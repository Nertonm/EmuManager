{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"EmuManager Documentation","text":"<p>This documentation provides technical details on the architecture and contribution guidelines for EmuManager.</p> <p>For usage instructions, please refer to the project README.</p>"},{"location":"#contents","title":"Contents","text":"<ul> <li>Architecture: Internal design and component overview.</li> <li>Contributing: Guidelines for developers.</li> </ul>"},{"location":"ARCHITECTURE/","title":"Architecture Documentation","text":""},{"location":"ARCHITECTURE/#overview","title":"Overview","text":"<p>EmuManager follows a layered architecture designed to separate concerns between the user interface, coordination logic, and low-level system handling.</p>"},{"location":"ARCHITECTURE/#core-components","title":"Core Components","text":""},{"location":"ARCHITECTURE/#1-the-orchestrator-emumanagercoreorchestrator","title":"1. The Orchestrator (<code>emumanager.core.orchestrator</code>)","text":"<p>The Orchestrator acts as the central hub of the application. It receives high-level commands from the UI (TUI/GUI/CLI) and delegates them to specific subsystems. It manages the <code>Session</code> context and ensures that long-running tasks are properly tracked.</p>"},{"location":"ARCHITECTURE/#2-library-database-emumanagerlibrary","title":"2. Library Database (<code>emumanager.library</code>)","text":"<p>Persistence is handled by <code>LibraryDB</code>, a wrapper around SQLite. *   Schema: Stores file paths, hashes (CRC32/MD5/SHA1), metadata, and verification status. *   WAL Mode: Write-Ahead Logging is enabled to support concurrent reading and writing, essential for the multi-threaded worker architecture. *   Thread Safety: Uses thread-local connection objects to prevent concurrency issues.</p>"},{"location":"ARCHITECTURE/#3-system-providers-emumanagercommonsystem","title":"3. System Providers (<code>emumanager.common.system</code>)","text":"<p>To handle the diversity of console formats, EmuManager uses a Strategy pattern via \"Providers\". Each supported system (e.g., PS2, GameCube) implements a <code>SystemProvider</code> interface.</p> <ul> <li>Responsibilities:<ul> <li>Identifying valid file extensions (e.g., <code>.rvz</code>, <code>.iso</code>).</li> <li>Extracting internal metadata (serial numbers, titles) from binary headers.</li> <li>Validating file integrity specific to the format.</li> </ul> </li> <li>Registry: A central registry (<code>emumanager.common.registry</code>) automatically discovers and loads these providers at runtime.</li> </ul>"},{"location":"ARCHITECTURE/#4-workers-emumanagerworkers","title":"4. Workers (<code>emumanager.workers</code>)","text":"<p>Long-running operations are encapsulated in Workers to keep the UI responsive. *   Scanner: Recursively crawls directories, interacting with Providers to identify files. *   Hasher: Performs multithreaded calculation of cryptographic hashes. *   Organizer: Moves and renames files based on canonical metadata.</p>"},{"location":"ARCHITECTURE/#5-verification","title":"5. Verification","text":"<p>Verification is two-fold: 1.  Cryptographic: Comparison of calculated hashes against known \"clean\" sets (DAT files). 2.  Structural: Using external tools (<code>chdman</code>, <code>dolphin-tool</code>) to verify the internal structure of container formats like CHD or RVZ.</p>"},{"location":"ARCHITECTURE/#directory-structure","title":"Directory Structure","text":"<ul> <li><code>emumanager/</code>: Main package.<ul> <li><code>core/</code>: Core logic (Orchestrator, Scanner).</li> <li><code>common/</code>: Shared utilities, base classes, database interfaces.</li> <li><code>workers/</code>: Asynchronous task implementations.</li> <li><code>[system_name]/</code>: Specific provider implementations (e.g., <code>ps2/</code>, <code>gamecube/</code>).</li> <li><code>ui/</code> / <code>tui.py</code> / <code>gui_main.py</code>: Interface layers.</li> </ul> </li> <li><code>tests/</code>: Pytest suite.</li> </ul>"},{"location":"CONTRIBUTING/","title":"Contributing","text":"<p>We welcome contributions to EmuManager. Please follow these guidelines to ensure code quality and consistency.</p>"},{"location":"CONTRIBUTING/#environment-setup","title":"Environment Setup","text":"<ol> <li>Python Version: Ensure you are using Python 3.10+.</li> <li>Dependencies: Install in editable mode with dev dependencies:     <code>bash     pip install -e \".[dev,gui]\"</code></li> </ol>"},{"location":"CONTRIBUTING/#development-standards","title":"Development Standards","text":""},{"location":"CONTRIBUTING/#code-style","title":"Code Style","text":"<ul> <li>Follow PEP 8 guidelines.</li> <li>Use type hints for all function arguments and return values.</li> <li>Keep functions small and focused on a single responsibility.</li> </ul>"},{"location":"CONTRIBUTING/#testing","title":"Testing","text":"<ul> <li>All new features must be accompanied by unit tests.</li> <li>Run the test suite using <code>pytest</code> before submitting a Pull Request.</li> <li>Ensure that existing tests do not break.</li> </ul>"},{"location":"CONTRIBUTING/#commits","title":"Commits","text":"<ul> <li>Write clear, concise commit messages.</li> <li>Reference issue numbers where applicable.</li> </ul>"},{"location":"CONTRIBUTING/#providers","title":"Providers","text":"<p>If adding support for a new system: 1.  Create a new package under <code>emumanager/[system_name]</code>. 2.  Implement <code>provider.py</code> inheriting from <code>SystemProvider</code>. 3.  Register the provider in <code>emumanager/common/registry.py</code> (or ensure auto-discovery works). 4.  Add unit tests for metadata extraction and file validation.</p>"}]}